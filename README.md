# Social Suit - Social Media Management Platform

A comprehensive FastAPI-based social media management platform with multi-platform integration, AI-powered content generation, and advanced security features.

## Features

- **Multi-Platform Integration**: Facebook, Instagram, LinkedIn, YouTube, TikTok, Twitter
- **AI-Powered Content**: Content generation using DeepSeek and image generation with SDXL
- **Secure Authentication**: JWT-based authentication with refresh tokens
- **Rate Limiting**: Configurable rate limiting for API endpoints
- **File Upload**: Secure file upload with validation and cloud storage
- **Database Support**: PostgreSQL, MongoDB, and Redis integration
- **Security Headers**: CORS, CSP, HSTS, and other security configurations
- **Audit Logging**: Comprehensive security audit logging

## Tech Stack

- **Backend**: FastAPI, Python 3.8+
- **Databases**: PostgreSQL (Supabase), MongoDB, Redis (Upstash)
- **Authentication**: JWT with bcrypt password hashing
- **File Storage**: Cloudinary
- **Task Queue**: Celery with Redis broker
- **Deployment**: Render.com

## Local Development Setup

### Prerequisites

- Python 3.8 or higher
- PostgreSQL (or Supabase account)
- Redis (or Upstash account)
- MongoDB (or MongoDB Atlas account)

### Step-by-Step Setup

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd social_suit
   ```

2. **Create and activate virtual environment**
   ```bash
   python -m venv venv
   
   # On Windows
   venv\Scripts\activate
   
   # On macOS/Linux
   source venv/bin/activate
   ```

3. **Install dependencies**
   ```bash
   pip install -r requirements.txt
   ```

4. **Environment Configuration**
   ```bash
   # Copy the example environment file
   cp .env.example .env
   
   # Edit .env with your actual values
   # At minimum, configure:
   # - DATABASE_URL (PostgreSQL connection string)
   # - REDIS_URL (Redis connection string)
   # - JWT_SECRET (generate a secure secret key)
   ```

5. **Generate JWT Secret** (if needed)
   ```bash
   python -c "import secrets; print(secrets.token_urlsafe(32))"
   ```

6. **Start the development server**
   ```bash
   uvicorn main:app --reload
   ```

7. **Access the application**
   - API: http://127.0.0.1:8000
   - Interactive API docs: http://127.0.0.1:8000/docs
   - Health check: http://127.0.0.1:8000/health

### Environment Variables

Key environment variables you need to configure:

#### Required
- `DATABASE_URL`: PostgreSQL connection string
- `REDIS_URL`: Redis connection string
- `JWT_SECRET`: Secret key for JWT token generation

#### Optional (for full functionality)
- `MONGO_URI`: MongoDB connection string
- `CLOUDINARY_URL`: Cloudinary configuration for file uploads
- `DEEPSEEK_OPENROUTER_API_KEY`: AI content generation
- Social media API keys (META, LINKEDIN, YOUTUBE, etc.)

See `.env.example` for a complete list of available configuration options.

## Deployment to Render

### Prerequisites

- Render.com account
- GitHub repository with your code

### Step-by-Step Deployment

1. **Prepare your repository**
   ```bash
   # Ensure all files are committed
   git add .
   git commit -m "Prepare for deployment"
   git push origin main
   ```

2. **Create services on Render**
   
   **Option A: Using render.yaml (Recommended)**
   - Push your code to GitHub
   - Connect your GitHub repository to Render
   - Render will automatically detect the `render.yaml` file
   - Review and deploy the services

   **Option B: Manual setup**
   - Create a new Web Service on Render
   - Connect your GitHub repository
   - Configure the following:
     - **Build Command**: `pip install -r requirements.txt`
     - **Start Command**: `uvicorn main:app --host 0.0.0.0 --port $PORT`
     - **Python Version**: 3.8 or higher

3. **Configure databases**
   - Create a PostgreSQL database on Render
   - Create a Redis instance on Render
   - The connection strings will be automatically provided as environment variables

4. **Set environment variables**
   
   In your Render dashboard, configure these environment variables:
   ```
   ENVIRONMENT=production
   DEBUG=false
   JWT_SECRET=<auto-generated-by-render>
   CORS_ALLOW_ORIGINS=["https://your-frontend-domain.com"]
   # Add other required variables from .env.example
   ```

5. **Deploy**
   - Render will automatically build and deploy your application
   - Monitor the build logs for any issues
   - Once deployed, your API will be available at your Render URL

### Production Considerations

1. **Security**
   - Use strong, unique secrets for all keys
   - Configure CORS origins for your actual frontend domain
   - Enable all security headers in production
   - Set up proper SSL/TLS certificates (handled by Render)

2. **Performance**
   - Consider upgrading to a paid Render plan for better performance
   - Configure Redis for caching and session storage
   - Monitor application performance and logs

3. **Monitoring**
   - Set up error tracking (Sentry integration available)
   - Monitor API response times and error rates
   - Configure health checks and alerts

## API Documentation

Once the server is running, visit:
- **Swagger UI**: http://your-domain/docs
- **ReDoc**: http://your-domain/redoc

## Project Structure

```
social_suit/
├── app/
│   ├── services/
│   │   ├── security/
│   │   │   └── security_config.py
│   │   └── ...
│   └── ...
├── main.py
├── requirements.txt
├── .env.example
├── render.yaml
└── README.md
```

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests if applicable
5. Submit a pull request

## License

[Add your license information here]

## Support

For issues and questions:
- Check the API documentation at `/docs`
- Review the logs for error messages
- Ensure all environment variables are properly configured

## Table of Contents

- [Prerequisites](#prerequisites)
- [Installation](#installation)
- [Environment Variables](#environment-variables)
- [Running the Application](#running-the-application)
- [Docker Setup](#docker-setup)
- [Make Targets](#make-targets)
- [API Documentation](#api-documentation)
- [Using the Shared Library](#using-the-shared-library)
- [Monitoring](#monitoring)
- [Testing](#testing)
- [Contributing](#contributing)
- [License](#license)

## Prerequisites

- Python 3.9+
- PostgreSQL
- MongoDB
- Redis
- Node.js 16+ (for frontend development)

## Installation

### Local Development Setup

1. Clone the repository:
   ```bash
   git clone https://github.com/yourusername/social-suit.git
   cd social-suit
   ```

2. Create and activate a virtual environment:
   ```bash
   python -m venv venv
   # On Windows
   .\venv\Scripts\activate
   # On macOS/Linux
   source venv/bin/activate
   ```

3. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```

4. Set up environment variables:
   ```bash
   cp .env.example .env
   # Edit .env with your actual values
   ```

## Environment Variables

### Required Environment Variables

| Variable | Description |
|----------|-------------|
| `DEEPSEEK_OPENROUTER_API_KEY` | API key for DeepSeek AI via OpenRouter services |
| `SDXL_API_KEY` | API key for Stable Diffusion XL image generation | - |